---
import Layout from '../layouts/group/Layout.astro';

// The getStaticPaths() is required for static Astro sites.
// If using SSR, you will not need this function.
export async function getStaticPaths() {
  return [
    {params: {slug: 'sustainability'}},
    {params: {slug: 'contact-us'}},
    {params: {slug: 'community'}},
    {params: {slug: 'about-us'}},
    {params: {slug: 'what-we-do'}},
    {params: {slug: 'our-purpose-and-shared-values'}},
    {params: {slug: 'our-milestones'}},
    {params: {slug: 'management-team'}},
    {params: {slug: 'board-of-directors'}},
  ];
}

const { slug } = Astro.params;
let res = await fetch(`https://www.fullertonhealth.com/wp-json/wp/v2/pages?slug=${slug}`);
let [post] = await res.json();
---
<Layout title={`${post.title.rendered} ` } meta_description={`${post.yoast_head_json.description}` } body_class={`wp-page ${post.title.rendered}` }>
  <Fragment set:html={post.content.rendered} />
</Layout>